<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week2-JS</title>
</head>

<body>
    <script>
        // Request-1
        // 完成以下函式，在函式中使用迴圈計算最小值到最大值之間，固定間隔的整數總和。其中你可以假設 max 一定大於 min 且為整數，step 為正整數。
        console.log("Request - 1")

        function calculate(min, max, step) {
            // 請用你的程式補完這個函式的區塊


            for (let result = 0; result < max; result++) {
                if ((max - step) > 0) {
                    result = min + max + (max - step);
                    console.log(result);
                    //  應該只有min < 0 的情況 max - step === 0 不會超過範圍
                } else if (((max - step) === 0) && (min < 0)) {
                    result = min + (min + step);
                    console.log(result)
                    break;
                    // 超出範圍
                } else {
                    console.log(min)
                    break;
                }
            }

        }
        calculate(1, 3, 1); // 你的程式要能夠計算 1+2+3，最後印出 6
        calculate(4, 8, 2); // 你的程式要能夠計算 4+6+8，最後印出 18
        calculate(-1, 2, 2); // 你的程式要能夠計算 -1+1，最後印出 0

        //========================================================================================================

        // Request-2
        //完成以下函式，正確計算出非 manager 的員工平均薪資，所謂非 manager 就是在資料中manager 欄位標註為 False (Python) 或 false (JavaScript) 的員工，程式需考慮員工資料數量不定的情況。
        console.log("Request - 2")

        function avg(data) {
            //請用你的程式補完這個函式的區塊
            let i = data["employees"];
            let sum = 0
            let personal = 0
            let count = 0;
            for (let x = 0; x < i.length; x++) {
                if (i[x]["manager"] === false) {
                    personal = (i[x]["salary"])
                    sum += personal;
                    count++
                }
            }
            console.log(sum / count)
        }


        avg({
            "employees": [
                {
                    "name": "John",
                    "salary": 30000,
                    "manager": false
                },
                {
                    "name": "Bob",
                    "salary": 60000,
                    "manager": true
                },
                {
                    "name": "Jenny",
                    "salary": 50000,
                    "manager": false
                },
                {
                    "name": "Tony",
                    "salary": 40000,
                    "manager": false
                }
            ]
        }); // 呼叫 avg 函式

        //========================================================================================================

        // Request-3 

        console.log("Request - 3")

        function func(a) {
            // 請用你的程式補完這個函式的區塊
            return function f(b, c) {
                console.log(a + (b * c))
            }
        }
        func(2)(3, 4); // 你補完的函式能印出 2+(3*4) 的結果 14
        func(5)(1, -5); // 你補完的函式能印出 5+(1*-5) 的結果 0
        func(-3)(2, 9); // 你補完的函式能印出 -3+(2*9) 的結果 15
        // 一般形式為 func(a)(b, c) 要印出 a+(b*c) 的結果

        //========================================================================================================

        // Request-4
        console.log("Request - 4")

        function maxProduct(nums) {
            // 請用你的程式補完這個函式的區塊
            if (nums.length < 2) {
                console.log("無法相乘")
            }

            let result = -Infinity;
            for (let x = 0; x < nums.length; x++) {
                for (let y = x + 1; y < nums.length; y++) {
                    let multiply = nums[x] * nums[y];
                    if (multiply >= result) {
                        result = multiply;
                    }
                }
            }
            console.log(result)
        }
        maxProduct([5, 20, 2, 6]) // 得到 120
        maxProduct([10, -20, 0, 3]) // 得到 30
        maxProduct([10, -20, 0, -3]) // 得到 60
        maxProduct([-1, 2]) // 得到 -2
        maxProduct([-1, 0, 2]) // 得到 0 或 -0
        maxProduct([5, -1, -2, 0]) // 得到 2
        maxProduct([-5, -2]) // 得到 10

        //========================================================================================================

        // Request-5
        console.log("Request - 5")

        function twoSum(nums, target) {
            // your code here
            for (let x = 0; x < nums.length; x++) {
                let indi = target - nums[x]
                for (let y = x + 1; y < nums.length; y++) {
                    if (nums[y] === indi) {
                        return [x, y]
                    }
                }
            }
        }
        let result = twoSum([2, 11, 7, 15], 9);
        console.log(result); // show [0, 2] because nums[0]+nums[2] is 9

        //========================================================================================================

        // Optional
        console.log("Optional")

        function maxZeros(nums) {
            // 請用你的程式補完這個函式的區塊
            let zeroCount = 0;
            let zeroSum = 0;
            for (let i = 0; i < nums.length; i++) {
                if (nums[i] === 0) {
                    zeroCount++
                } else {
                    zeroCount = 0
                }
                if (zeroCount > zeroSum) {
                    zeroSum = zeroCount
                }
            } console.log(zeroSum)
        }
        maxZeros([0, 1, 0, 0]); // 得到 2
        maxZeros([1, 0, 0, 0, 0, 1, 0, 1, 0, 0]); // 得到 4
        maxZeros([1, 1, 1, 1, 1]); // 得到 0
        maxZeros([0, 0, 0, 1, 1]) // 得到 3


    </script>
</body>

</html>